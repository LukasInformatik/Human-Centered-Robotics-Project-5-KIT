{
    "name": "ROS 2 Humble DevContainer",
    "dockerFile": "Dockerfile",
    "remoteUser": "ros",
    "workspaceFolder": "/home/ros/ros2_ws",
    "settings": {
        "terminal.integrated.defaultProfile.linux": "bash"
    },
    "runArgs": [
        "--network=host",
        "--privileged",
        "--device=/dev/video0",
        "--device=/dev/video1",
        "--device=/dev/video2",
        "--device=/dev/video3",
        "--device=/dev/video4",
        "--device=/dev/video5",
        "--device=/dev/video6",
        "--device=/dev/video7"
    ],
    "mounts": [
        "source=${localWorkspaceFolder},target=/home/ros/ros2_ws,type=bind",
        "source=/dev/bus/usb,target=/dev/bus/usb,type=bind"
    ],
    "containerEnv": {
        "DISPLAY": "${localEnv:DISPLAY}"
    },
    "postCreateCommand": "bash -c 'source /opt/ros/humble/setup.bash && git clone --recurse-submodules https://github.com/abizovnuralem/go2_ros2_sdk.git src/go2_sdk && pip install -r src/go2_sdk/requirements.txt && sudo apt-get update && sudo apt-get upgrade -y && rosdep update && rosdep install --from-paths src --ignore-src -r -y && colcon build --symlink-install'",
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-azuretools.vscode-docker",
                "ms-vscode.cpptools",
                "twxs.cmake",
                "dotjoshjohnson.xml"
            ]
        }
    }
}